<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GSAP Scroll Effect</title>
  <link href="https://webfontworld.github.io/NexonLv1Gothic/NexonLv1Gothic.css" rel="stylesheet">
  <link rel="stylesheet" href="https://use.typekit.net/lol4lwz.css">
  <link rel="stylesheet" href="assets/style/gsap.css">
</head>
<body>
<div id="wrapper">
  <main id="parallax__cont">
    <section id="section1" class="parallax__item main-section">
      <div class="parallax__item__img main-section-bg"></div>
      <div class="main-section-content">
        <p class="main-section__title-sub">광명 철산 <b>또 하나의 기대작</b></p>
        <h1 class="parallax__item__title main-section__title">철산자이 더 시티</h1>
      </div>
      <div class="box-wrap">
        <div class="section2-box js-section2-box"></div>
      </div>
    </section>
    <!-- //section1 -->

    <section id="section2" class="parallax__item">
    </section>
    <!-- //section2 -->

    <section id="section3" class="parallax__item premium-section">
      <div class="premium-top uses__top js-uses-title">
        <header class="text--center">
          <p class="premium-top__text">Cheolsan Xi THE CITY</p>
          <h2 class="premium-top__title">
            Premium
          </h2>
        </header>
      </div>
      <div class="js-uses-image-measure premium-bottom section3-bottom">
        <div class="premium-item premium-item1 js-uses-section">
          <div class="container-h premium-item-content uses__section__content">
            <div class="premium-item-content-inner">
              <div class="premium-item-img">
                <picture class="premium-item-picture">
                  <source srcset="asstes/images/main/premium-img1.png" type="image/png">
                  <img src="asstes/images/main/premium-img1.png" alt="">
                </picture>
              </div>
              <div class="premium-item-text">
                <h3 class="premium-item__title">Brand Xi</h3>
                <strong class="premium-item__sub-title">광명 철산을 대표할 빅브랜드 <b>자이타운의 자부심</b></strong>
                <p class="premium-item__text js-uses-text">
                  •   단지 주변 자이의 명성과 자부심으로 완성될 대단지 자이타운 형성
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="premium-item premium-item2 js-uses-section">
          <div class="container-h premium-item-content uses__section__content">
            <div class="premium-item-content-inner">
              <div class="premium-item-img">
                <picture class="premium-item-picture">
                  <source srcset="asstes/images/main/premium-img2.png" type="image/png">
                  <img src="asstes/images/main/premium-img2.png" alt="">
                </picture>
              </div>
              <div class="premium-item-text">
                <h3 class="premium-item__title">Traffic</h3>
                <strong class="premium-item__sub-title">남부순환로, 서부간선도로, 신안산선(2024년 예정) 등 <b>광역교통망</b></strong>
                <p class="premium-item__text js-uses-text">
                  •   7호선 철산역, 1호선 구일역, 경인로 등 다양한 교통 인프라로 빠르게 연결
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="premium-item premium-item3 js-uses-section" data-scroll data-scroll-speed="1"  id="usesSection3">
          <div class="container-h premium-item-content uses__section__content" data-scroll data-scroll-sticky data-scroll-target="#usesSection3">
            <div class="premium-item-content-inner">
              <div class="premium-item-img">
                <picture class="premium-item-picture">
                  <source srcset="asstes/images/main/premium-img3.png" type="image/png">
                  <img src="asstes/images/main/premium-img3.png" alt="">
                </picture>
              </div>
              <div class="premium-item-text">
                <h3 class="premium-item__title">Education</h3>
                <strong class="premium-item__sub-title">초등학교를 품은 학세권 아파트로 안전하고<b>우수한 교육환경</b></strong>
                <p class="premium-item__text js-uses-text">
                  •   품격 있는 라이프스타일을 선사하는 자이의 혁신평면
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="premium-item premium-item4 js-uses-section" data-scroll data-scroll-speed="1" id="usesSection4">
          <div class="container-h premium-item-content uses__section__content" data-scroll data-scroll-sticky data-scroll-target="#usesSection4">
            <div class="premium-item-content-inner">
              <div class="premium-item-img">
                <picture class="premium-item-picture">
                  <source srcset="asstes/images/main/premium-img4.png" type="image/png">
                  <img src="asstes/images/main/premium-img4.png" alt="">
                </picture>
              </div>
              <div class="premium-item-text">
                <h3 class="premium-item__title">Infra</h3>
                <strong class="premium-item__sub-title">풍부한 생활 인프라로 누리는 편리한<b>프리미엄 라이프</b></strong>
                <p class="premium-item__text js-uses-text">
                  •   코스트코/아이파크몰(고척점), 아울렛, 광명시청 등 생활편의시설 인접
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="premium-item premium-item5 js-uses-section" data-scroll data-scroll-speed="1" id="usesSection5">
          <div class="container-h premium-item-content uses__section__content" data-scroll data-scroll-sticky data-scroll-target="#usesSection5">
            <div class="premium-item-content-inner">
              <div class="premium-item-img">
                <picture class="premium-item-picture">
                  <source srcset="asstes/images/main/premium-img5.png" type="image/png">
                  <img src="asstes/images/main/premium-img5.png" alt="">
                </picture>
              </div>
              <div class="premium-item-text">
                <h3 class="premium-item__title">Healing Life</h3>
                <strong class="premium-item__sub-title">안양천과 현충근린공원, 광명햇살광장 등 <b>힐링라이프</b></strong>
                <p class="premium-item__text js-uses-text">
                  •   풍요롭고 건강한 삶을 누릴 수 있는 그린라이프
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="premium-item premium-item6 js-uses-section-last " data-scroll data-scroll-speed="1"  id="usesSection6">
          <div class="container-h premium-item-content uses__section__content" data-scroll data-scroll-sticky data-scroll-target="#usesSection6">
            <div class="premium-item-content-inner">
              <div class="premium-item-img">
                <picture class="premium-item-picture">
                  <source srcset="asstes/images/main/premium-img6.png" type="image/png">
                  <img src="asstes/images/main/premium-img6.png" alt="">
                </picture>
              </div>
              <div class="premium-item-text">
                <h3 class="premium-item__title">Unit Plan</h3>
                <strong class="premium-item__sub-title">4BAY 및 최신 트렌드를 반영한 <b>평면 특화설계</b></strong>
                <p class="premium-item__text js-uses-text">
                  •   품격 있는 라이프스타일을 선사하는 자이의 혁신평면
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="system-section-area">
        <section class="section parallax__item system-section">
          <header class="section-top system text--center js-system-trigger">
            <p class="section-top__text system">Cheolsan Xi THE CITY</p>
            <h2 class="section-top__title system">
              System
            </h2>
          </header>

          <div class="system-rotate-slide-area">
            <div class="system-rotate-slide">
              <div class="circle-filter-area">
                <div class="circle-slider" id="circleSlider"></div>
              </div>
            </div>
          </div>
        </section>
      </div>

    </section>
    <!-- //section3 -->

    <section id="section5" class="parallax__item sysclein-section">
      <div class="sysclein-section-inner">
        <header class="section-top sysclein">
          <p class="section-top__text sysclein">Cheolsan Xi THE CITY</p>
          <h2 class="section-top__title sysclein">
            Sys Clein
          </h2>
          <p class="section-top__description">
            창문을 열지 않고도 스스로 환기하는<br/>
            차세대 환기형 공기청정 시스템 시스클라인
          </p>
          <a href="">
            <img src="asstes/images/main/sysclein-button.png" alt="시스클라인 보기">
          </a>
        </header>
        <div class="sysclein-items">
          <div class="sysclein-item">
            <img src="asstes/images/main/sysclein-img0.png" alt="">
          </div>
          <div class="sysclein-item">
            <img src="asstes/images/main/sysclein-img1.png" alt="">
          </div>
          <div class="sysclein-item">
            <img src="asstes/images/main/sysclein-img2.png" alt="">
          </div>
        </div>
      </div>
    </section>
    <!-- //section5 -->

    <section id="section6" class="parallax__item">
      <span class="parallax__item__num">06</span>
      <div class="parallax__item__img"></div>
      <h2 class="parallax__item__title">section6</h2>
    </section>
    <!-- //section6 -->

    <section id="section7" class="parallax__item">
      <span class="parallax__item__num">07</span>
      <div class="parallax__item__img"></div>
      <h2 class="parallax__item__title">section7</h2>
    </section>
    <!-- //section7 -->

    <section id="section8" class="parallax__item">
      <span class="parallax__item__num">08</span>
      <div class="parallax__item__img"></div>
      <h2 class="parallax__item__title">section8</h2>
    </section>
    <!-- //section8 -->

    <section id="section9" class="parallax__item">
      <span class="parallax__item__num">09</span>
      <div class="parallax__item__img"></div>
      <h2 class="parallax__item__title">section9</h2>
    </section>
    <!-- //section9 -->
  </main>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.1/ScrollToPlugin.min.js"></script>
<script>
  // system 그리기
  (function drawCircle () {
    const data = Array.from({length: 18})
    const rotateDegree = (360 / data.length)
    const circleSlider = document.getElementById('circleSlider');

    data.forEach((item, index) => {
      const circleItemArea = document.createElement('div');
      circleItemArea.className = 'circle-item-area';
      circleItemArea.style.transform = `rotate(${rotateDegree * (index + 1)}deg)`;

      const circleItem = document.createElement('div');
      circleItem.className = 'circle-item';

      const circleItemContent = document.createElement('div');
      circleItemContent.className = 'circle-item-content';

      const circleItemContentNormal = document.createElement('div');
      circleItemContentNormal.className = 'circle-item-content-normal';

      const img = document.createElement('img');
      if (index === 0 || index === 1 || index === 17) {
        img.src = `asstes/images/main/system-img${index}.png`;
        img.alt = '';
      }

      circleItemContentNormal.appendChild(img);
      circleItemContent.appendChild(circleItemContentNormal);
      circleItem.appendChild(circleItemContent);
      circleItemArea.appendChild(circleItem);
      circleSlider.appendChild(circleItemArea);
    });
    console.log('다그림')
  })();

  ///////////////////////////////////////////////////////////////////////////////////////////////

  // 스크롤 모션들

  const panel = document.querySelector("#section1");

  // 1 을 고정함
  ScrollTrigger.create({
    trigger: panel,
    start: "top top",
    pin: true,
    pinSpacing: false
  });
///////////////////////
  // 박스 올라오기
  gsap.to(".box-wrap", {
    scrollTrigger: {
      trigger: "#section1",
      //markers: true,
      start: "0% 10%",
      end : "+=55%" ,
      scrub: 1,
    },
    transform: 'translateY(0)'
  })
//////////////////////
  // 박스 커지기
  gsap.to(".js-section2-box", {
    scrollTrigger: {
      trigger: ".box-wrap",
      //markers: true,
      //pin: true,
      start: '0% 90%',
      end: "+=50%",
      scrub: 1,
    },
    width: '100%',
    height: '100vh',
  })

/*
  gsap.to('.js-premium-1', {
    scrollTrigger: {
      trigger: "#section3",
      markers: true,
      pin: true,
      start: "0% 0%",
      end : "+=100%" ,
      scrub: 1,
      on
    },
    transform: 'translateY(-50%)'
  })
*/

  ////////////// 프레미엄 //////////////
  const tl = gsap.timeline({
    scrollTrigger: {
      trigger: '.section3-bottom',
      start: '0% 30%',
      end: 'bottom center',
      scrub: 1,
      ease: 'linear',
    }
  });

  tl.to('.js-uses-section', {
    height: '180px',
    marginTop: -80,
    // transform: 'translateY(-30px)',
    /*transform: function(idx) {
      return `translateY(${ - (idx * 800)}px)`
    },*/
    stagger: .05,
  }, '<');

  tl.to('.js-uses-section-last', {
    marginTop: -30,

  },);


  ///////////// system //////////////////
  console.log('시스템등록')
  gsap.to('.circle-slider', {
    scrollTrigger: {
      markers: true,
      trigger: '.system-section',
      pin: true,
      start: 'top top',
      end: '+=100%',
      scrub: -3,
    },
    rotation: -40
  });



</script>
</body>
</html>
